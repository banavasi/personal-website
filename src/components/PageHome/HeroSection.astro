---
import { NeoButton } from '@/components/NeoButton';
import type { HeroContent } from '@/types/content';

interface Props {
  content?: HeroContent;
}

// Import static content as fallback
import { homeContent } from '@/content/home';

const { content } = Astro.props;

// Use props or fallback to static content
const hero = content
  ? {
      badge: content.badge,
      title: {
        line1: content.titleLine1,
        line2: content.titleLine2,
        line3: content.titleLine3,
      },
      description: content.description,
      cta: {
        primary: {
          text: content.ctaPrimaryText,
          link: content.ctaPrimaryLink,
        },
        secondary: {
          text: content.ctaSecondaryText,
          link: content.ctaSecondaryLink,
        },
      },
    }
  : homeContent.hero;
---

<section
  class="relative flex min-h-[90vh] items-center overflow-hidden border-b-4 border-black pb-4 dark:border-white"
>
  <!-- Abstract Background Elements -->
  <div class="pointer-events-none absolute inset-0 z-0 opacity-10">
    <div
      class="absolute top-0 left-0 h-full w-full bg-[url('/images/hero-bg.png')] bg-cover bg-center"
    >
    </div>
    <div class="absolute top-20 right-20 h-64 w-64 rounded-full border-4 border-black"></div>
    <div class="absolute bottom-40 left-10 h-40 w-40 rotate-12 bg-black"></div>
  </div>

  <div class="relative z-10 container mx-auto px-4">
    <div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2">
      <!-- Left Column: Text Content -->
      <div>
        <div
          class="bg-neon-green mb-6 inline-block border-2 border-black px-4 py-1 font-mono font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]"
        >
          {hero.badge}
        </div>
        <h1 class="font-display mb-8 text-6xl leading-[0.9] font-bold tracking-tighter md:text-8xl">
          {hero.title.line1}
          <br />
          <span class="text-stroke-2 bg-black bg-clip-text text-transparent dark:bg-white">
            {hero.title.line2}
          </span>
          <br />
          {hero.title.line3}
        </h1>
        <p
          class="border-neon-green mb-10 max-w-2xl border-l-4 bg-white/80 p-4 font-mono text-xl backdrop-blur-sm md:text-2xl dark:bg-black/80"
        >
          {hero.description}
        </p>
        <div class="flex flex-col gap-4 sm:flex-row">
          <a href={hero.cta.primary.link} download class="inline-block">
            <NeoButton client:load size="lg" className="w-full text-xl">
              {hero.cta.primary.text}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="ml-2 inline-block"
                ><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline
                  points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"
                ></line></svg
              >
            </NeoButton>
          </a>
        </div>
      </div>

      <!-- Right Column: Profile Image - Desktop only with 3D hover effect -->
      <div class="hidden lg:block">
        <div class="profile-container perspective-1000 relative mx-auto h-80 w-80">
          <!-- Circular Peephole Frame -->
          <div
            class="profile-peephole bg-concrete absolute inset-0 overflow-hidden rounded-full border-8 border-black shadow-[12px_12px_0px_0px_rgba(0,0,0,1)] transition-transform duration-500 ease-out dark:border-white dark:bg-zinc-900 dark:shadow-[12px_12px_0px_0px_rgba(255,255,255,1)]"
          >
            <!-- Image positioned to show face -->
            <img
              src="/images/shashankshandilya.png"
              alt="Shashank Shandilya"
              class="absolute top-1/2 left-1/2 h-auto w-full -translate-x-1/2 -translate-y-1/2 scale-110"
            />
          </div>

          <!-- Decorative Corner Elements with reverse movement -->
          <div
            class="profile-accent accent-tl border-neon-green absolute -top-4 -left-4 h-16 w-16 border-4 transition-transform duration-500 ease-out"
          >
          </div>
          <div
            class="profile-accent accent-br border-electric-blue absolute -right-4 -bottom-4 h-20 w-20 border-4 transition-transform duration-500 ease-out"
          >
          </div>

          <!-- Small accent circles -->
          <div
            class="profile-accent accent-tr bg-alert-red absolute top-8 -right-8 h-12 w-12 opacity-60 transition-transform duration-500 ease-out"
          >
          </div>
          <div
            class="profile-accent accent-bl bg-neon-green absolute -bottom-8 left-8 h-8 w-8 transition-transform duration-500 ease-out"
          >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .perspective-1000 {
    perspective: 1000px;
  }

  /* 3D Hover Effect - Tilt the peephole */
  .profile-container:hover .profile-peephole {
    transform: rotateY(10deg) rotateX(-5deg) scale(1.05);
  }

  /* Accent elements move in opposite direction on hover */
  .profile-container:hover .accent-tl {
    transform: translate(-8px, -8px);
  }

  .profile-container:hover .accent-br {
    transform: translate(8px, 8px);
  }

  .profile-container:hover .accent-tr {
    transform: translate(8px, -8px);
  }

  .profile-container:hover .accent-bl {
    transform: translate(-8px, 8px);
  }
</style>
